# ==============================================================================
# CẤU HÌNH CHUNG (Common Configuration)
# ==============================================================================
quarkus.http.port=8080
quarkus.application.name=scoutli-backend

# Cấu hình Hibernate ORM (JPA)
quarkus.hibernate-orm.log.sql=true

# ==============================================================================
# CẤU HÌNH MÔI TRƯỜNG DEV (Local Development)
# ==============================================================================
# Quarkus Dev Services sẽ tự động khởi chạy một Docker container PostgreSQL
# khi bạn chạy `quarkus dev`. Bạn không cần cấu hình URL thủ công ở đây
# trừ khi bạn muốn kết nối đến một DB local cố định.

# Tự động tạo và xóa bảng khi restart (tiện cho dev)
quarkus.hibernate-orm.database.generation=drop-and-create

# ==============================================================================
# CẤU HÌNH MÔI TRƯỜNG PRODUCTION (AWS / Kubernetes)
# ==============================================================================
# Các giá trị này sẽ được sử dụng khi build image (native hoặc jvm)
# Chúng ta sử dụng biến môi trường ${...} để inject giá trị từ Kubernetes Secret

%prod.quarkus.datasource.db-kind=postgresql
%prod.quarkus.datasource.jdbc.url=jdbc:postgresql://${DB_HOST:localhost}:5432/${DB_NAME:scoutli_db}
%prod.quarkus.datasource.username=${DB_USER:scoutli}
%prod.quarkus.datasource.password=${DB_PASSWORD:scoutli}

# Quan trọng: Trên Prod, không bao giờ được drop-and-create!
# Chỉ validate schema hoặc update nhẹ (nếu dùng flyway)
%prod.quarkus.hibernate-orm.database.generation=validate

# Tắt log SQL trên prod để tối ưu hiệu năng
%prod.quarkus.hibernate-orm.log.sql=false